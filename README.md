# Byte-Bandits-ASWE
Advanced Software Engineering Fall 2023 Project

## Iteration 2
Corresponding release is `2.0` - note that based on the instructions from OH, some final touches and tests/reports will be added before the demo. Functionally-wise, however, the service is finished.

### Client
- For client app repository, see: [SafeStore](https://github.com/aryanamoh/safestore)
- The README documents how to run the client.

### Multiple Client Instances
- The service supports multiple simultaneous instances of the sample client, and the service provides each instance with unique JSON Web Token (JWT) to differentiate and authorize each instance.
- This has been tested manually and follows from our overall architecture.
- This will be showcased during the demo.

### Continuous Integration
- This repository performs continuous integration. All build, analysis and testing tools are automatically run for every commit to the main branch of the codebase.
- For reports, see: [CI Reports](https://github.com/katyareichert/Byte-Bandits-ASWE/actions/runs/7055163158)

### Internal Integration Tests
- Integration tests run automatically during the CI.
- Reports can be found under [Continuous Integration](#continuous-integration)

### Branch Coverage
- Percentage of brange coverage can be found in reports generated by CI.
- Reports can be found under [Continuous Integration](#continuous-integration)
- Note that our branch coverage is lower (~50%), because we don't have tests that would trigger exceptions such as OS inability to write to a file, etc. However, these generally lead to the same outcome that we already test by other means.
- Overall, most uncovered branches by far are things like `catch Exception` for routing when a 502 error is returned (these are sort of useless) + the base ktor skeleton code.
- All endpoints and corresponding branches were tested manually using Postman.

### Bug Finder
- Static analysis is done by CodeQL and style checking is done by Detekt.
- Both run automatically during CI, and reports can be found under [Continuous Integration](#continuous-integration)

### End-To-End Testing
- We completed end-to-end testing of the client utilizing the service's password generation, malware checker, file store, and file retrieval endpoints.
- Screenshots of tests can be found [here](https://github.com/katyareichert/Byte-Bandits-ASWE/tree/main/testing-screenshots/Iteration2)
- We also manually tested all endpoints of the service API via Postman.

### Third Party Code
- Client third party code is linked in the client's README
- Third party libraries (from Gradle/Maven repo) for the service include:
  - Ktor framework
  - Netty Webserver
  - Logback for logging
  - Gson
- See: [Deps](/byte-bandits/build.gradle.kts#L43)

### API Documentation
- Our API is a code-calls-code-over-network API, not a user-facing CLI
- Documentation for all implemented entry points can be found via our Swagger
- For documentation, see: [here - yaml format](/byte-bandits/src/main/resources/openapi/documentation.yaml) or [here - swagger UI](https://app.swaggerhub.com/apis-docs/HugoMatousek2/security-tools_api/1.0.0)

### Configuration
- Build and run instructions can be found in the Iteration 1 section [here](#build-run-test-instruction)

### Client Target Audience
- Client target audience is elderly individuals who want to be safer online. More in depth explanation can be found in the client's README [here](https://github.com/aryanamoh/safestore)

### External Integration Tests
- External resources include our persistant files, which are checked as part of our testing. These can be found in the reports, under [Continuous Integration](#continuous-integration)
- We don't use any other external API

### Changes from the proposal
- We implemented most functionality from our original proposal
- There have been some changes to a couple of features - for example, for virus checking, we rely on a database that should be maintained separately from the service, rather than directly connecting to an external online database, or we dropped the file sharing, as we realized too late that our persistent storage architecture was not really usable for file sharing
- We dropped the digital certificate functionality, as the actual implementation was beyond our capabilities
- For minor things, such as support for different encryption mechanisms, we implemented the service in an extendable fashion, meaning that these could be seamasly added later on

## Iteration 1

### Imported Code
- None


### Documented API
- Our API is a code-calls-code-over-network API, not a user-facing CLI
- Documentation for all implemented entry points can be found via our Swagger
- For documentation, see: [here - yaml format](/byte-bandits/src/main/resources/openapi/documentation.yaml) or [here - swagger UI](https://app.swaggerhub.com/apis-docs/HUGOMATOUSEK/security-tools_api/0.0.3)
https://app.swaggerhub.com/apis-docs/HugoMatousek2/security-tools_api/1.0.0


### System Tests Corresponding to API
- We used Postman to conduct code-calls-code-over-network system-level tests exercising every API entry point
- For each endpoint, we forced each possible status code (OK or Bad Gateway)
- We simulated multiple clients by using different JWT tokens, we have simulated this via postman tests by using multiple tokens.
- Our storage endpoint is our persistent data aspect, and this was tested through Postman as well
- For Postman responses, see: [here](/testing-screenshots/Iteration1/tests.md)


### Unit Tests
- In addition to over-network tests, we run unit tests, which run as a part of the gradle build
- Tests contain both Unit & Integration test
- Setup/Teardown: our file persistence tests add and then delete files used for testing
- Ktor also spins up the entire application to test the full lifecycle of the webserver
- For unit tests, see: [here](byte-bandits/src/test/kotlin/bytebandits)


### Commit Messages
- All commits have a descriptive and concise commit message


### Self-Documenting Code
- All main functions are documented with comments for readability
- Function and parameter names are self explanatory


### Style Compliant
- Style checked with the IntelliJ integrated tool (as per our Project Proposal)
- All issues reported by the IntelliJ integrated style check tool were addressed
- In addition to the style check apporach from the proposal, we decided to also use Detekt, which is significantly more detailed and strict (as we aim to have the cleanest code possible in our final stage)
- For the Detekt style checker report, see: [here - all formats](/detekt) or [here - txt](/detekt/detekt.txt)
- Note that we still have some style issues (predominantly WildcardImport, MagicNumber, and Exception related). This is still work in progress as we try to address these - where applicable (which is not always the case). A portion of these is caused by the development stage (not all custom Exceptions are defined, a number of variables is hard-coded, etc.) and a portion of these is caused by using the standard rule set, which is extremely pedantic. We could use the @Supress notation, but since we plan to address the issues as much as possible, we decided againts it.


### Build, Run, & Test Instructions
- Load the project into IntelliJ (or build directly with `gradle build` from the project [directory](/byte-bandits))
- Run the Gradle Build
- Grade build will run the tests
- To run, use either IntelliJ or run directly with `gradle run` from the project [directory](/byte-bandits)
  

### Tagged Revisions
- Current iteration is tagged as `0.0.4-first-iteration`
